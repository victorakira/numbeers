<div class="flex flex-col items-center justify-start">
  @for (currentTry of tries; track currentTry) {

  <div class="flex flex-col mb-5">
    <div class="flex">
      @for (number of currentTry.numbers; track number) {
      <input
        type="text"
        class="custom-input"
        maxlength="1"
        disabled
        [value]="number"
      />
      }
    </div>
    <span class="mx-4 -mt-1 text-xl">
      &#8226; {{ currentTry.correctPositionCount }} in the correct position
    </span>
    <span class="mx-4 -mt-1 text-xl">
      &#8226; {{ currentTry.wrongPositionCount }} in the wrong position
    </span>
  </div>
  }
  <div class="flex flex-col">
    @if(!correct){
    <form class="flex flex-col" [formGroup]="formGroup" (ngSubmit)="send()">
      <div class="flex">
        <input
          type="text"
          class="custom-input"
          maxlength="1"
          formControlName="number1"
          [required]="!isValid('number1') && submitted"
          (keydown)="onKeyDown($event)"
          (click)="inputClick('number1')"
          [ngClass]="{ 'custom-input-focus': inputOnFocus == 'number1' }"
        />
        <input
          type="text"
          class="custom-input"
          maxlength="1"
          formControlName="number2"
          [required]="!isValid('number2') && submitted"
          (keydown)="onKeyDown($event)"
          (click)="inputClick('number2')"
          [ngClass]="{ 'custom-input-focus': inputOnFocus == 'number2' }"
        />
        <input
          type="text"
          class="custom-input"
          maxlength="1"
          formControlName="number3"
          [required]="!isValid('number3') && submitted"
          (keydown)="onKeyDown($event)"
          (click)="inputClick('number3')"
          [ngClass]="{ 'custom-input-focus': inputOnFocus == 'number3' }"
        />
        <input
          type="text"
          class="custom-input"
          maxlength="1"
          formControlName="number4"
          [required]="!isValid('number4') && submitted"
          (keydown)="onKeyDown($event)"
          (click)="inputClick('number4')"
          [ngClass]="{ 'custom-input-focus': inputOnFocus == 'number4' }"
        />
      </div>
      <button
        class="py-3 m-2 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        type="submit"
      >
        Send
      </button>
    </form>
    } @else {
    <span class="mt-5 text-4xl font-bold text-center text-emerald-600"
      >Victory!</span
    >
    }
  </div>

  <div class="flex flex-col">
    <div class="flex">
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('1')"
      >
        1
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('2')"
      >
        2
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('3')"
      >
        3
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('4')"
      >
        4
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('5')"
      >
        5
      </button>
    </div>
    <div class="flex">
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('6')"
      >
        6
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('7')"
      >
        7
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('8')"
      >
        8
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('9')"
      >
        9
      </button>
      <button
        class="px-3 py-1 m-1 text-2xl font-bold uppercase bg-orange-500 rounded-lg text-orange-50 hover:bg-orange-400"
        (click)="buttonClick('0')"
      >
        0
      </button>
    </div>
  </div>
</div>
